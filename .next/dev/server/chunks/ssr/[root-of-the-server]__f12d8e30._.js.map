{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanleycruz/Downloads/CPS714-Section3/lib/supabaseClient.ts"],"sourcesContent":["import { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL as string;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY as string;\n\nlet client: SupabaseClient | null = null;\n\nexport function assertSupabaseConfigured() {\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      \"Supabase is not configured. Add NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY to your .env.local.\"\n    );\n  }\n}\n\nexport function getSupabaseClient(): SupabaseClient {\n  if (!client) {\n    assertSupabaseConfigured();\n    client = createClient(supabaseUrl, supabaseAnonKey);\n  }\n  return client;\n}\n\n\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN,IAAI,SAAgC;AAE7B,SAAS;IACd;;AAKF;AAEO,SAAS;IACd,IAAI,CAAC,QAAQ;QACX;QACA,SAAS,IAAA,0OAAY,EAAC,aAAa;IACrC;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanleycruz/Downloads/CPS714-Section3/app/createChallenge/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport Link from \"next/link\";\nimport { getSupabaseClient } from '../../lib/supabaseClient'; // updated import\n\nexport default function CreateChallengePage() {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [reward, setReward] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(\"\");\n\n    const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    setSuccess(false);\n\n    const supabase = getSupabaseClient(); // new client connection to supabase, for inserting data\n    \n    const { data, error } = await supabase.from(\"challenges\").insert([\n    {\n    title,\n    description,\n    start_date: startDate,\n    end_date: endDate,\n    reward,\n    },\n    ]);\n\n    if (error) {\n    setError(error.message);\n    } else {\n    setSuccess(true);\n    setTitle(\"\");\n    setDescription(\"\");\n    setStartDate(\"\");\n    setEndDate(\"\");\n    setReward(\"\");\n    }\n\n    setLoading(false);\n};\n  return (\n    <main className=\"relative min-h-screen text-white bg-[#0A1128] overflow-hidden px-6 py-16\">\n      {/* Page Header */}\n      <motion.div\n        initial={{ opacity: 0, y: 40 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.7 }}\n        className=\"max-w-3xl mx-auto text-center mb-12\"\n      >\n        <h1 className=\"text-5xl font-bold mb-4 text-[#D4AF37] drop-shadow-lg\">\n          Create a New Challenge\n        </h1>\n        <p className=\"text-gray-300 text-lg max-w-xl mx-auto\">\n          Gym staff can design custom fitness challenges for members to\n          participate in. Fill out the details below and launch your next\n          challenge.\n        </p>\n      </motion.div>\n\n      {/* Challenge Form */}\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.2, duration: 0.8 }}\n        className=\"max-w-3xl mx-auto bg-white/10 backdrop-blur-xl p-8 rounded-2xl shadow-2xl border border-white/10\"\n      >\n        <form className=\"space-y-6\" onSubmit={handleSubmit}> {/* added onSubmit handler for Create Challenges button*/}\n          {/* Title */}\n          <div>\n            <label className=\"block text-sm font-semibold mb-2 text-gray-200\">\n              Challenge Title\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full p-3 rounded-xl bg-black/40 border border-gray-600 text-white focus:border-[#D4AF37] outline-none\"\n              placeholder=\"e.g. Most Yoga Classes Taken\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n            />\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-sm font-semibold mb-2 text-gray-200\">\n              Description\n            </label>\n            <textarea\n              className=\"w-full p-3 rounded-xl bg-black/40 border border-gray-600 text-white h-32 resize-none focus:border-[#D4AF37] outline-none\"\n              placeholder=\"Describe the challenge goals and rules...\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n            />\n          </div>\n\n          {/* Start & End Dates */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-semibold mb-2 text-gray-200\">\n                Start Date\n              </label>\n              <input\n                type=\"date\"\n                className=\"w-full p-3 rounded-xl bg-black/40 border border-gray-600 text-white focus:border-[#D4AF37] outline-none\"\n                value={startDate}\n                onChange={(e) => setStartDate(e.target.value)}\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold mb-2 text-gray-200\">\n                End Date\n              </label>\n              <input\n                type=\"date\"\n                className=\"w-full p-3 rounded-xl bg-black/40 border border-gray-600 text-white focus:border-[#D4AF37] outline-none\"\n                value={endDate}\n                onChange={(e) => setEndDate(e.target.value)}\n              />\n            </div>\n          </div>\n\n          {/* Reward */}\n          <div>\n            <label className=\"block text-sm font-semibold mb-2 text-gray-200\">\n              Reward / Prize\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full p-3 rounded-xl bg-black/40 border border-gray-600 text-white focus:border-[#D4AF37] outline-none\"\n              placeholder=\"e.g. Free Month Membership, Gym Merchandise...\"\n              value={reward}\n              onChange={(e) => setReward(e.target.value)}\n            />\n          </div>\n\n          {/* Submit */}\n        <div className=\"pt-4 flex justify-center\">\n            <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"px-10 py-3 rounded-full bg-gradient-to-r from-yellow-500 to-yellow-300 text-black font-semibold shadow-xl hover:shadow-yellow-400/40 transition-all duration-300\"\n                >\n                {loading ? \"Creating...\" : \"Create Challenge\"}\n            </button>\n        </div>\n\n        {success && <p className=\"text-green-400 mt-2 text-center\">Challenge created successfully!</p>}\n        {error && <p className=\"text-red-400 mt-2 text-center\">{error}</p>}\n        </form>\n        </motion.div>\n\n      {/* Back Link */}\n      <div className=\"text-center mt-10 text-gray-400\">\n        <Link href=\"/dashboard\" className=\"hover:text-yellow-300 transition-all\">\n          ‚Üê Back to Staff Dashboard\n        </Link>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}